<div class="max-w-7xl mx-auto bg-white rounded-lg shadow-sm">
  <div class="p-6 border-b border-gray-200">
    <h1 class="text-2xl font-bold text-gray-800">Registro de estudiante</h1>
    <p class="text-gray-600 mt-1">> Registro de estudiante</p>
  </div>

  <form [formGroup]="inscripcionForm"
        (ngSubmit)="onSubmit()"
        class="p-6 space-y-6 bg-white rounded-lg shadow">

    <!-- Sección: Registro Estudiante -->
    <div>
      <h2 class="text-lg font-semibold text-gray-700 mb-4">Estudiante</h2>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium">Nombre</label>
          <input pInputText formControlName="nombre" class="w-full"/>
        </div>
        <div>
          <label class="block text-sm font-medium">Apellido Paterno</label>
          <input pInputText formControlName="apellidoPaterno" class="w-full"/>
        </div>
        <div>
          <label class="block text-sm font-medium">Apellido Materno</label>
          <input pInputText formControlName="apellidoMaterno" class="w-full"/>
        </div>
        <div>
          <label class="block text-sm font-medium">Celular</label>
          <input pInputText formControlName="celular" class="w-full"/>
        </div>
        <div class="col-span-2 grid grid-cols-6 gap-4">
          <div class="col-span-2">
            <label class="block text-sm font-medium">CI</label>
            <input pInputText formControlName="ci" class="w-full"/>
          </div>
          <div>
            <label class="block text-sm font-medium">Extensión</label>
            <p-dropdown
              class="w-full"
              [options]="ciExtensiones"
              formControlName="extensionCI"
              [optionValue]="'value'"
              placeholder="Seleccionar">
            </p-dropdown>
          </div>
        </div>
      </div>
    </div>

    <!-- Sección: Curso -->
    <div>
      <h2 class="text-lg font-semibold text-gray-700 mb-4">Curso</h2>
      <div class="grid grid-cols-1 gap-4" style="padding-bottom: 20px">
        <div>
          <label class="block text-sm font-medium">Modalidad</label>
          <p-dropdown [optionValue]="'value'" class="w-full" [options]="modalidadOptions" formControlName="modalidad"
                      placeholder="Seleccionar"></p-dropdown>
        </div>
        <div>
          <label class="block text-sm font-medium">Nombre del curso</label>
          <p-dropdown class="w-full" [optionValue]="'value'" [options]="cursos" formControlName="curso"
                      placeholder="Seleccionar"></p-dropdown>
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium">Horario</label>
          <p-dropdown [optionValue]="'value'" class="w-full" [options]="horarioOptions" formControlName="horario"
                      placeholder="Seleccionar"></p-dropdown>
        </div>
        <div>
          <label class="block text-sm font-medium">Fecha de inicio de clases</label>
          <p-datepicker [inputStyle]="{'width: 100%': true}" class="w-full" formControlName="fechaInicio"
                        inputId="calendar" dateFormat="dd/mm/yy"></p-datepicker>
        </div>
      </div>
    </div>

    <!-- Sección: Inscripción -->
    <div>
      <h2 class="text-lg font-semibold text-gray-700 mb-4">Cuota</h2>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium">Tipo de pago</label>
          <p-dropdown [optionValue]="'value'" class="w-full" [options]="tipoPagoOptions" formControlName="tipoPago"
                      placeholder="Seleccionar"></p-dropdown>
        </div>

        <div>
          <label class="block text-sm font-medium">Descuento</label>
          <p-dropdown [optionValue]="'value'" class="w-full" [options]="descuentoOptions" formControlName="descuento"
                      placeholder="Seleccionar"></p-dropdown>
        </div>
      </div>

      <div class="flex align-center" style="padding-top: 20px">
        <div class="flex gap-2">
          <label class="text-sm" [style.color]="!checked ? 'green' : 'black'">Al contado</label>
          <p-toggleswitch (onChange)="onchange($event.checked)"/>
          <label class="text-sm" [style.color]="checked ? 'green' : 'black'">A saldo</label>
        </div>
      </div>

      @if (!checked) {
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium">Abono</label>
            <input pInputText formControlName="monto" type="number" class="w-full"/>
          </div>
        </div>
      } @else {
        <div class="grid grid-cols-2 gap-4">

          <div>
            <label class="block text-sm font-medium">Cuenta</label>
            <input #cuenta formControlName="monto" type="number" pInputText class="w-full" />
          </div>

          <div>
            <label class="block text-sm font-medium">Saldo (Pago pendiente)</label>
            <input #saldo type="number" pInputText class="w-full" />
          </div>

          <div>
            <label class="block text-sm font-medium">Total</label>
            <input pInputText  class="w-full" [value]="sumarTotal(cuenta.value , saldo.value)" readonly/>
          </div>
        </div>
      }

      <div class="grid grid-cols-1" style="padding-top: 20px">
        <label class="block text-sm font-medium">Detalle (opcional):</label>
        <textarea pInputTextarea formControlName="descripcion" class="w-full" rows="3" placeholder="Opcional..."></textarea>
      </div>

    </div>

    <button pButton type="submit"
            label="Enviar"
            class="w-full mt-6"></button>
  </form>
</div>


<div class="max-w-7xl mx-auto bg-white rounded-lg shadow-sm">
  <div class="p-6 border-b border-gray-200">
    <h1 class="text-2xl font-bold text-gray-800">Lista de estudiantes</h1>
    <p class="text-gray-600 mt-1">> lista estudiantes</p>
  </div>

  <!-- Filtros -->
  <div class="p-6 border-b border-gray-200">
    <div class="flex justify-between items-center flex-wrap gap-3">
      <!-- Search input -->
      <div class="relative w-full md:w-1/3">
      <span class="absolute inset-y-0 right-1 p-2 flex items-center pl-3">
        <i class="pi pi-search text-gray-400"></i>
      </span>
        <input pInputText placeholder="Buscar curso..."
               [(ngModel)]="searchText"
               (input)="aplicarFiltros()"
               class="pl-10 w-full"/>
      </div>

      <!-- Filtros dropdown -->
      <div class="flex flex-wrap space-x-2">
        <p-dropdown
          [options]="MODALIDAD"
          [(ngModel)]="selectedModalidad"
          (onChange)="aplicarFiltros()"
          placeholder="Modalidad"
          optionLabel="label" optionValue="value">
        </p-dropdown>

        <button pButton icon="pi pi-filter-slash" label="Limpiar"
                class="p-button-outlined"
                (click)="limpiarFiltros()">
        </button>
      </div>
    </div>
  </div>

  <!-- Tabla -->
  <p-table #table
           [value]="cursosFiltrados"
           [paginator]="true" [rows]="5"
           [rowsPerPageOptions]="[5,10,25]"
           [showCurrentPageReport]="true"
           currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} cursos"
           styleClass="p-datatable-striped p-datatable-gridlines mt-4">
    <ng-template pTemplate="header">
      <tr>
        <th>Nombre</th>
        <th>Modalidad</th>
        <th>Duraci√≥n</th>
        <th>Horarios</th>
        <th>Costo</th>
        <th>Estado</th>
        <th class="text-center">Acciones</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-curso let-i="rowIndex">
      <tr>
        <td>{{ curso.nombre }}</td>
        <td>
          <span [ngClass]="{
          'bg-orange-100 text-orange-800': curso.modalidad === LUNES_A_VIERNES,
          'bg-purple-100 text-purple-800': curso.modalidad === SABADOS,
           }" class="px-2.5 py-0.5 rounded-full text-xs font-medium">
            {{ curso.modalidad }}
          </span>
        </td>
        <td>{{ curso.duracionMeses }} meses</td>
        <td>
          <ul>
            @for (h of curso.horarios; track h.id) {
              <li class="flex justify-between">
                <span>{{ h.turno | titlecase }}:</span>
                <span>{{ h.horaInicio }} - {{ h.horaFin }}</span>
              </li>
            }
          </ul>
        </td>

        <td>
          <div class="flex gap-2 justify-between">
            <span>Mensual:</span>
            <label>{{ curso.costoMensual }} bs.</label>
          </div>

          <div class="flex  gap-2 justify-between">
            <span>Completo:</span>
            <label>{{ curso.costoCompleto }} bs.</label>
          </div>
        </td>
        <td>
          <span [ngClass]="{
                    'bg-green-100 text-green-800': curso.estado === 'ACTIVO',
                    'bg-orange-100 text-orange-800': curso.estado === 'INACTIVO',
                  }" class="px-2.5 py-0.5 rounded-full text-xs font-medium">
            {{ curso.estado | titlecase }}
          </span>
        </td>
        <td class="text-center">
          <button pButton icon="pi pi-pencil" class="p-button-text p-button-sm text-blue-600"
                  (click)="editarCurso(curso, i)"></button>
          <button pButton icon="pi pi-trash" class="p-button-text p-button-sm text-red-600"
                  (click)="eliminarCurso(i)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

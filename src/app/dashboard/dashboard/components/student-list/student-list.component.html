<div class="max-w-7xl mx-auto bg-white rounded-lg shadow-sm">
  <div class="p-6 border-b border-gray-200">
    <h1 class="text-2xl font-bold text-gray-800">Lista de estudiantes</h1>
    <p class="text-gray-600 mt-1">> lista estudiantes</p>
  </div>

  <!-- Search and Filters -->
  <div class="p-6 border-b border-gray-200">
    <div class="flex justify-between items-center">
      <div class="relative w-1/3">
             <span class="absolute inset-y-0 right-1 p-2 flex items-center pl-3">
               <i class="pi pi-search text-gray-400"></i>
             </span>
        <input pInputText placeholder="Search customers..."
               [(ngModel)]="searchText"
               (input)="onSearchChange($event)"
               class="pl-10 w-full"/>
      </div>
      <div class="flex space-x-2">
        <p-dropdown [options]="statusOptions" placeholder="Status"
                    [(ngModel)]="selectedStatus"
                    (onChange)="onStatusChange($event)"
                    optionLabel="label" optionValue="value"></p-dropdown>

        <p-dropdown [options]="sourceOptions" placeholder="Lead Source"
                    [(ngModel)]="selectedSource"
                    (onChange)="onSourceChange($event)"
                    optionLabel="label" optionValue="value"></p-dropdown>

        <button pButton icon="pi pi-filter-slash" label="Clear"
                (click)="clearFilters(table)"
                class="p-button-outlined"></button>
      </div>
    </div>
  </div>

  <!-- Customer Table -->
  <div class="overflow-x-visible">
    <p-table #table
             [value]="filteredCustomers"
             [paginator]="true" [rows]=25
             [showCurrentPageReport]="true"
             currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
             [rowsPerPageOptions]="[5,10,25,50]"
             styleClass="p-datatable-striped">
      <ng-template pTemplate="header">
        <tr>
          <th class="p-4 text-left">Nombre</th>
          <th class="p-4 text-left">Curso</th>
          <th class="p-4 text-left">Horario</th>
          <th class="p-4 text-left">Telefono</th>
          <th class="p-4 text-left">Modalidad</th>
          <th class="p-4 text-left">Estatus</th>
          <th class="p-4 text-left">Detalles</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-customer>
        <tr class="hover:bg-gray-50">
          <td class="p-4 font-medium text-gray-900">{{ customer.estudiante.nombre }} {{ customer.estudiante.apellidoPaterno }} {{ customer.estudiante.apellidoMaterno }}</td>
          <td class="p-4 text-gray-600">{{ customer.curso.nombre }}</td>
          <td class="p-4 text-gray-600">{{ customer.horario.horaInicio }} - {{ customer.horario.horaFin }}</td>
          <td class="p-4 text-gray-600">{{ customer.estudiante.telefono }}</td>
          <td class="p-4">
                  <span [ngClass]="{
                    'bg-orange-100 text-orange-800': customer.curso.modalidad === 'Lunes a Viernes',
                    'bg-purple-100 text-purple-800': customer.curso.modalidad === 'Sabados',
                  }" class="px-2.5 py-0.5 rounded-full text-xs font-medium">
                    {{ customer.curso.modalidad }}
                  </span>
          </td>
          <td class="p-4">
                  <span [ngClass]="{
                    'bg-green-100 text-green-800': customer.estado === 'ACTIVO',
                    'bg-red-100 text-red-800': customer.estado === 'INACTIVO',
                    'bg-yellow-100 text-yellow-800': customer.estado === 'CONGELADO'
                  }" class="px-2.5 py-0.5 rounded-full text-xs font-medium">
                    {{ customer.estado | titlecase }}
                  </span>
          </td>
          <td class="p-4">
            <button pButton icon="pi pi-eye"
                    class="p-button-rounded p-button-text p-button-plain"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
